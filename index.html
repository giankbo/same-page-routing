<!DOCTYPE html>
<html>
  <head>
    <title>Same Page Routing</title>

    <!-- ========== BOOTSTRAP CSS ========== -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <!-- ========== CSS ========== -->
    <link rel="stylesheet" href="./styles.css">
  </head>
  <body>
    <div class="container">
      <div class="hero-text">
        <h1>
          Welcome to Hollywood Classic Films!
        </h1>
      </div>
    
    <!-- ========== NEW NAVBAR ========== -->
    <!--Put your routes here-->
    <div>
      <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
          <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
              <a class="nav-link" href="#home">Home</a>
              <a class="nav-link" href="#about">About</a>
              <a class="nav-link" href="#products">Products</a>
              <a class="nav-link" href="#checkout">Checkout</a>
            </div>
          </div>
        </div>
      </nav>
    </div>

    <div id="content"></div>

    <!-- ========== NEW FOOTER ========== -->
    <div class="container">
      <footer class="py-3 my-4" >
        <ul class="nav justify-content-center border-bottom pb-3 mb-3">
          <div class="nav-item">
            <a href="#" class="nav-link px-2 text-muted">Privacy</a>
          </div>
          <div id="nav-item">
            <a href="#" class="nav-link px-2 text-muted">Terms</a>
          </div>
          <div id="nav-item">
            <a href="#" class="nav-link px-2 text-muted">Support</a>
          </div>
        </ul>
        <p class="text-center text-muted">&copy; 2017â€“2022 MIT xPRO</p>
      </footer>
    </div>

    <!-- ========== ROUTER ========== -->
    <script>

      var routes = {
          '':           'home.html',     
          '/':          'home.html',
          '#home':      'home.html',                
          '#about':     'about.html',        
          '#products': 'products.html',
          '#checkout': 'checkout.html',
      };
  
      async function router(){
          console.log(location.hash);
  
          // get requested page
          var link = window.location.hash;
  
          // get path (route) for page
          var route = routes[link];
  
          // if route exists, load page
          if (route) loadPage(route);
      };
      router();
  
      async function loadPage(url){
          // load page
          const res     = await fetch(url);
          const content = await res.text();
          const element = document.getElementById('content');
          element.innerHTML = content;
      }
  
      window.addEventListener('hashchange', router);    
    
    </script>

  </body>
</html>
